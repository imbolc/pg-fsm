{
  "db": "PostgreSQL",
  "0a6b2c09cbb30aad7624e1d21ea8cba43bf521bae77cecabe0e89ca461d29687": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text",
          "Timestamptz"
        ]
      }
    },
    "query": "INSERT INTO pg_task (step, wakeup_at) VALUES ($1, $2) RETURNING id"
  },
  "24d7ef3a1dc86b9e408c7c691cb9c981673f0139ec30884dead832f19bae36d9": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "UPDATE pg_task SET is_running = false WHERE is_running = true"
  },
  "259e9b85f83c2836821b7b06330aa472e7322325b12b6cd98ab9a64606a3c928": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "step",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "tried",
          "ordinal": 2,
          "type_info": "Int4"
        },
        {
          "name": "wakeup_at",
          "ordinal": 3,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "\n        SELECT\n            id,\n            step,\n            tried,\n            wakeup_at\n        FROM pg_task\n        WHERE is_running = false\n          AND error IS NULL\n        ORDER BY wakeup_at\n        LIMIT 1\n        FOR UPDATE\n        "
  },
  "61eee517879d1017c23bf070468544070818bee22799cb20d7c4898223260b2f": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Timestamptz"
        ]
      }
    },
    "query": "\n            UPDATE pg_task\n            SET is_running = false,\n                tried = 0,\n                step = $2,\n                updated_at = $3,\n                wakeup_at = $3\n            WHERE id = $1\n            "
  },
  "c04480de80bc53c48baf5662d53bc24e05e8ff9fefb9d1eac4f25e0330185eb1": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Timestamptz"
        ]
      }
    },
    "query": "\n            UPDATE pg_task\n            SET is_running = false,\n                tried = tried + 1,\n                updated_at = now(),\n                wakeup_at = $2\n            WHERE id = $1\n            "
  },
  "ca5cb904ec5a18ac71e0b7ee2fe0cd98f16a252cb4774ebbec842f267eea6fe6": {
    "describe": {
      "columns": [
        {
          "name": "tried",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "step!",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Timestamptz"
        ]
      }
    },
    "query": "\n            UPDATE pg_task\n            SET is_running = false,\n                error = $2,\n                updated_at = $3,\n                wakeup_at = $3\n            WHERE id = $1\n            RETURNING tried, step::TEXT as \"step!\"\n            "
  },
  "eac67f11ffbc1ec71498e941a38ca682dc5e291364236185ffa35040a9611d62": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n        UPDATE pg_task\n        SET is_running = true,\n            updated_at = now()\n        WHERE id = $1\n        "
  },
  "ebc5a43458570f6f64356d4fdffb906b7b52ff09a55a3064ed7943558234b103": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "DELETE FROM pg_task WHERE id = $1"
  }
}